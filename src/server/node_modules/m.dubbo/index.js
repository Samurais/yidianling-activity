
const nzd = require('node-zookeeper-dubbo');
const java = require('js-to-java');

let data = (id) => {
  let d = {
    $class: '',
    $: [id],
  };

  return java.revert(d);
}

let a = java.array('int', [2]);
console.log(a)

const opt = {
  application:{name:'node_activity'},
  register:'47.97.49.44:2181',
  dubboVer:'1.0.0',
  root:'dubbo',
  dependencies:{
    Course:{
      interface:'com.ydl.product.intf.facade.CourseFacade',
      version:'1.0.0',
      timeout:6000,
      methodSignature: {
        listByIds: (data) => [java.List(data)],
      }
    }
  }
}

module.exports = {

  init(){

    const Dubbo = new nzd(opt);

    // Dubbo.on("service:changed", (event)=>{
    //   console.log("222222>>>>>>>>>>>>>>>>>")
    //   console.log(event)
    // })

    // setTimeout(() => {
    //   console.log("Dubbo.Course>>>>>>>>>>>>.")

    //   Dubbo.Course.listByIds([2])
    //   .then((res) => {
    //     console.log("res >>>>>>>>>>>")
    //     console.log(res)
    //   }).catch((err) => {
    //     console.log("err >>>>>>>>>>>")
    //     console.log(err)
    //   })
    // },1000);

  }
}
